{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\nexport const apiService = {\n  // Health check\n  healthCheck: () => api.get('/health'),\n  // Agents\n  getAgents: () => api.get('/agents'),\n  // Tasks\n  createTask: (taskDescription, userId = null) => api.post('/tasks', {\n    task_description: taskDescription,\n    user_id: userId\n  }),\n  getTask: taskId => api.get(`/tasks/${taskId}`),\n  getAllTasks: () => api.get('/tasks')\n};\nexport class WebSocketService {\n  constructor() {\n    this.ws = null;\n    this.listeners = new Map();\n  }\n  connect() {\n    const wsUrl = API_BASE_URL.replace('http', 'ws') + '/ws';\n    this.ws = new WebSocket(wsUrl);\n    this.ws.onopen = () => {\n      console.log('WebSocket connected');\n      this.emit('connected');\n    };\n    this.ws.onmessage = event => {\n      try {\n        const data = JSON.parse(event.data);\n        this.emit('message', data);\n        this.emit(data.type, data);\n      } catch (error) {\n        console.error('Error parsing WebSocket message:', error);\n      }\n    };\n    this.ws.onclose = () => {\n      console.log('WebSocket disconnected');\n      this.emit('disconnected');\n      // Attempt to reconnect after 3 seconds\n      setTimeout(() => this.connect(), 3000);\n    };\n    this.ws.onerror = error => {\n      console.error('WebSocket error:', error);\n      this.emit('error', error);\n    };\n  }\n  disconnect() {\n    if (this.ws) {\n      this.ws.close();\n      this.ws = null;\n    }\n  }\n  on(event, callback) {\n    if (!this.listeners.has(event)) {\n      this.listeners.set(event, []);\n    }\n    this.listeners.get(event).push(callback);\n  }\n  off(event, callback) {\n    if (this.listeners.has(event)) {\n      const callbacks = this.listeners.get(event);\n      const index = callbacks.indexOf(callback);\n      if (index > -1) {\n        callbacks.splice(index, 1);\n      }\n    }\n  }\n  emit(event, data) {\n    if (this.listeners.has(event)) {\n      this.listeners.get(event).forEach(callback => callback(data));\n    }\n  }\n  send(data) {\n    if (this.ws && this.ws.readyState === WebSocket.OPEN) {\n      this.ws.send(JSON.stringify(data));\n    }\n  }\n}\nexport const wsService = new WebSocketService();","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","headers","apiService","healthCheck","get","getAgents","createTask","taskDescription","userId","post","task_description","user_id","getTask","taskId","getAllTasks","WebSocketService","constructor","ws","listeners","Map","connect","wsUrl","replace","WebSocket","onopen","console","log","emit","onmessage","event","data","JSON","parse","type","error","onclose","setTimeout","onerror","disconnect","close","on","callback","has","set","push","off","callbacks","index","indexOf","splice","forEach","send","readyState","OPEN","stringify","wsService"],"sources":["/Users/rajshah/Downloads/Projects/ai_agent_orchestration_hub_v1_crewai-project/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\nexport const apiService = {\n  // Health check\n  healthCheck: () => api.get('/health'),\n\n  // Agents\n  getAgents: () => api.get('/agents'),\n\n  // Tasks\n  createTask: (taskDescription, userId = null) => \n    api.post('/tasks', { task_description: taskDescription, user_id: userId }),\n  \n  getTask: (taskId) => api.get(`/tasks/${taskId}`),\n  \n  getAllTasks: () => api.get('/tasks'),\n};\n\nexport class WebSocketService {\n  constructor() {\n    this.ws = null;\n    this.listeners = new Map();\n  }\n\n  connect() {\n    const wsUrl = API_BASE_URL.replace('http', 'ws') + '/ws';\n    this.ws = new WebSocket(wsUrl);\n\n    this.ws.onopen = () => {\n      console.log('WebSocket connected');\n      this.emit('connected');\n    };\n\n    this.ws.onmessage = (event) => {\n      try {\n        const data = JSON.parse(event.data);\n        this.emit('message', data);\n        this.emit(data.type, data);\n      } catch (error) {\n        console.error('Error parsing WebSocket message:', error);\n      }\n    };\n\n    this.ws.onclose = () => {\n      console.log('WebSocket disconnected');\n      this.emit('disconnected');\n      // Attempt to reconnect after 3 seconds\n      setTimeout(() => this.connect(), 3000);\n    };\n\n    this.ws.onerror = (error) => {\n      console.error('WebSocket error:', error);\n      this.emit('error', error);\n    };\n  }\n\n  disconnect() {\n    if (this.ws) {\n      this.ws.close();\n      this.ws = null;\n    }\n  }\n\n  on(event, callback) {\n    if (!this.listeners.has(event)) {\n      this.listeners.set(event, []);\n    }\n    this.listeners.get(event).push(callback);\n  }\n\n  off(event, callback) {\n    if (this.listeners.has(event)) {\n      const callbacks = this.listeners.get(event);\n      const index = callbacks.indexOf(callback);\n      if (index > -1) {\n        callbacks.splice(index, 1);\n      }\n    }\n  }\n\n  emit(event, data) {\n    if (this.listeners.has(event)) {\n      this.listeners.get(event).forEach(callback => callback(data));\n    }\n  }\n\n  send(data) {\n    if (this.ws && this.ws.readyState === WebSocket.OPEN) {\n      this.ws.send(JSON.stringify(data));\n    }\n  }\n}\n\nexport const wsService = new WebSocketService();"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}